<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÂüÉÂèä Â∞ºÁæÖÊ≤≥Â•≥Âúò</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fff7ed;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background-color: #fcd34d; border-radius: 10px; }

        .phrase-card:active { transform: scale(0.98); }
        .itinerary-card { transition: all 0.2s; }
        .itinerary-card:active { transform: scale(0.99); }

        /* Hide scrollbar for tab container */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ==============================
        // 1. ÈùúÊÖãË≥áÊñôÂÆöÁæ©
        // ==============================
        
        const keywordEmojis = {
            'ÁÅ´Èçã': 'üç≤', 'ÊôöÈ§ê': 'üçΩÔ∏è', 'ÂçàÈ§ê': 'ü•™', 'Êó©ÂçàÈ§ê': 'üç≥', 'ÂêÉÈ£Ø': 'üç¥', 'ËÄÅÈ≠ö': 'üêü', 'Áî®È§ê': 'üçΩÔ∏è',
            'È£õÊ©ü': '‚úàÔ∏è', 'Ëà™Áè≠': '‚úàÔ∏è', 'Ê©üÂ†¥': 'üõ´', 'T1': '‚úàÔ∏è', 'T2': '‚úàÔ∏è', 'T3': '‚úàÔ∏è',
            'Ë∑ØÂÖãÁ¥¢': 'üõï', 
            'ÂçöÁâ©È§®': 'üèõÔ∏è', 'Á•ûÊÆø': 'üèõÔ∏è', 'Á•ûÂªü': 'üèõÔ∏è', 'ÈáëÂ≠óÂ°î': 'üî∫',
            'Â∏ÇÈõÜ': 'üõçÔ∏è', 'Ë≥ºÁâ©': 'üõçÔ∏è',
            '‰ΩèÂÆø': 'üè®', 'È£ØÂ∫ó': 'üè®', 'Hotel': 'üè®', 'Resort': 'üèñÔ∏è', 'ÂÖ•‰Ωè': 'üè®',
            'ÁÜ±Ê∞£ÁêÉ': 'üéà', 'È¢®Â∏ÜËàπ': '‚õµ', 'Êê≠Ëàπ': '‚õµ',
            'Ê≤ôÊº†': 'üåµ', 'Ë°ùÊ≤ô': 'üöô', 'Èß±Èßù': 'üê™',
            'ÊΩõÊ∞¥': 'ü§ø', 'ÊµÆÊΩõ': 'ü§ø', 'Êµ∑': 'üåä', 'Ê∑±ÊΩõ': 'ü§ø',
            'Ë•øÂ•àÂ±±': '‚õ∞Ô∏è', 'ÁôªÂ±±': 'ü•æ',
            'ÈñãÁæÖ': 'üèôÔ∏è', 'ËÄÅÂüé': 'üïå', 'Ê∏ÖÁúüÂØ∫': 'üïå'
        };

        const arabicPhrases = [
            { category: "ÊâìÊãõÂëº", meaning: "‰Ω†Â•Ω", original: "Salam Alaikum", phonetic: "Ëñ©ÊãâÂßÜ ÈòøËêäÂ∫´ÂßÜ" },
            { category: "Á¶ÆË≤å", meaning: "Ë¨ùË¨ù", original: "Shukran", phonetic: "‰ºëÂÖãËò≠" },
            { category: "Á¶ÆË≤å", meaning: "‰∏çÂÆ¢Ê∞£", original: "Afwan", phonetic: "ÈòøÂ§´Ëê¨" },
            { category: "Á¶ÆË≤å", meaning: "ÊòØ / Â∞ç", original: "Aywa", phonetic: "ËâæÁì¶" },
            { category: "Á¶ÆË≤å", meaning: "‰∏ç", original: "La", phonetic: "Êãâ" },
            { category: "Á¶ÆË≤å", meaning: "‰∏çÂ•ΩÊÑèÊÄù", original: "Ma'lish", phonetic: "ÁΩµÂäõË®±" },
            { category: "Á¶ÆË≤å", meaning: "ÂÜçË¶ã", original: "Ma'a salama", phonetic: "Áë™Ëñ©ÊãâÁë™" },
            { category: "ÊÆ∫ÂÉπ", meaning: "Â§öÂ∞ëÈå¢Ôºü", original: "Bekam?", phonetic: "Áï¢Âç°ÂßÜÔºü" },
            { category: "ÊÆ∫ÂÉπ", meaning: "Â§™Ë≤¥‰∫ÜÔºÅ", original: "Ghali awi", phonetic: "Âä†Âà© ÈòøÁ∂≠" },
            { category: "ÊÆ∫ÂÉπ", meaning: "Êàë‰∏çË¶Å", original: "La Shukran", phonetic: "Êãâ ‰ºëÂÖãËò≠" },
            { category: "ÊÆ∫ÂÉπ", meaning: "Ëµ∞Èñã", original: "Imshi", phonetic: "Èü≥Ë®±ÔºÅ" },
            { category: "ÊÆ∫ÂÉπ", meaning: "Â§†‰∫Ü", original: "Khalas", phonetic: "ÂìàÊãâÊñØ" },
            { category: "ÁîüÊ¥ª", meaning: "Ê∞¥", original: "Mayya", phonetic: "Áë™ÈõÖ" },
            { category: "ÁîüÊ¥ª", meaning: "ÂªÅÊâÄ", original: "Hamam", phonetic: "ÂìàÂ™ΩÂ™Ω" },
            { category: "ÁîüÊ¥ª", meaning: "Ë∂ïÂø´ / Ëµ∞‰∫Ü", original: "Yalla", phonetic: "ÈõÖÊãâ" },
            { category: "ÁîüÊ¥ª", meaning: "Ë≠¶ÂØü", original: "Bolice", phonetic: "Ê≥¢Âà©ÊñØ" }
        ];

        const arabicNumbers = [
            { num: "0", arabNum: "Ÿ†", phonetic: "Â∏åÂ§´Áàæ" },
            { num: "1", arabNum: "Ÿ°", phonetic: "Áì¶ÈªëÂæ∑" },
            { num: "2", arabNum: "Ÿ¢", phonetic: "ËÄ∂ÁâπÂØß" },
            { num: "3", arabNum: "Ÿ£", phonetic: "Â°îÊãâÂ°î" },
            { num: "4", arabNum: "Ÿ§", phonetic: "ÈòøÁàæÂ∑¥" },
            { num: "5", arabNum: "Ÿ•", phonetic: "Êù≠Êíí" },
            { num: "6", arabNum: "Ÿ¶", phonetic: "Â°ûÂ°î" },
            { num: "7", arabNum: "Ÿß", phonetic: "Ëñ©Â∑¥" },
            { num: "8", arabNum: "Ÿ®", phonetic: "Â°îÊõº‰∫û" },
            { num: "9", arabNum: "Ÿ©", phonetic: "ÈêµËñ©" },
            { num: "10", arabNum: "Ÿ°Ÿ†", phonetic: "ÈòøÊ≤ôÊãâ" },
            { num: "50", arabNum: "Ÿ•Ÿ†", phonetic: "Êù≠‰ø°" },
            { num: "100", arabNum: "Ÿ°Ÿ†Ÿ†", phonetic: "Ê¢Ö‰∫û" }
        ];

        // Ê≥®ÊÑè‰∫ãÈ†ÖË≥áÊñô
        const importantNotes = [
            { title: "Á∞ΩË≠âËàáÂÖ•Â¢É", content: "ËêΩÂú∞Á∞ΩÈúÄÊ∫ñÂÇô 25 ÁæéÈáëÔºà‰∏çÊâæÈõ∂ÔºåÂª∫Ë≠∞Ê∫ñÂÇôÂâõÂ•ΩÔºâ„ÄÇ" },
            { title: "Á∂≤Ë∑ØËàáÈÄöË®ä", content: "Âª∫Ë≠∞ÂÖàË≤∑Â•Ω E-SIM ÊàñÊäµÈÅîÊ©üÂ†¥Ëæ¶ÁêÜÁ∂≤Âç°ÔºàOrange/VodafoneÔºâ„ÄÇ" },
            { title: "È£≤Ê∞¥ÂÆâÂÖ®", content: "ÁµïÂ∞ç‰∏çÂèØÁîüÈ£≤Ëá™‰æÜÊ∞¥ÔºÅË´ãË≥ºË≤∑Á§¶Ê≥âÊ∞¥ÔºåÂà∑Áâô‰πüÂª∫Ë≠∞Áî®Á§¶Ê≥âÊ∞¥„ÄÇ" },
            { title: "Â∞èË≤ªÊñáÂåñ (Baksheesh)", content: "‰∏äÂªÅÊâÄ„ÄÅÊèêË°åÊùéÈÉΩÈúÄË¶ÅÂ∞èË≤ªÔºåÂª∫Ë≠∞Èö®Ë∫´ÊîúÂ∏∂Â∞èÈ°çÂüÉÈéäÔºà5„ÄÅ10„ÄÅ20 LEÔºâ„ÄÇ" },
            { title: "Á©øËëóÂª∫Ë≠∞", content: "Êó©ÊôöÊ∫´Â∑ÆÂ§ßÔºåÊ¥ãËî•ÂºèÁ©øÊê≠„ÄÇÂèÉËßÄÊ∏ÖÁúüÂØ∫ÈúÄÁ©øÈï∑Ë§≤/Èï∑Ë£ôÔºåÂ•≥ÊÄßÈúÄÂÇôÈ†≠Â∑æ„ÄÇ" },
            { title: "ÊÆ∫ÂÉπÊäÄÂ∑ß", content: "Â∏ÇÈõÜË≥ºÁâ©Âæû 3-4 ÊäòÈñãÂßãÊÆ∫ÔºåÂ†ÖÊåÅÂ∫ïÁ∑öÔºå‰∏çÊÉ≥Ë≤∑Â∞±Áõ¥Êé•Ëµ∞Èñã (Yalla!)„ÄÇ" },
            { title: "ÈõªÂ£ìÊèíÂ∫ß", content: "220VÔºåÈõôÂúìÂ≠îÊèíÂ∫ß (Ê≠êË¶è C ÂûãÊàñ F Âûã)„ÄÇ" },
             { title: "Èò≤Êõ¨‰øùÊøï", content: "Ê≤ôÊº†Ê∞£ÂÄôÊ•µ‰πæÁá•ÔºåÂãôÂøÖÊîúÂ∏∂‰øùÊøïÁî®ÂìÅ„ÄÅË≠∑ÂîáËÜè„ÄÅÂ¢®Èè°„ÄÅÈò≤Êõ¨‰π≥„ÄÇ" }
        ];

        const initialItineraryData = [
            // 12/12
            { day: "12/12", location: "ÊùæÂ±±", mapUrl: "https://www.google.com/maps/search/?api=1&query=Âè∞ÂåóÊùæÂ±±Ê©üÂ†¥", activity: "18:05 Âè∞ÂåóÊùæÂ±±Ê©üÂ†¥ T1 Â†±Âà∞", notes: "Ëà™Áè≠ 3U3982", timestamp: 1 },
            { day: "12/12", location: "ÊàêÈÉΩÂ§©Â∫úÂúãÈöõÊ©üÂ†¥ T1", mapUrl: "https://www.google.com/maps/search/?api=1&query=ÊàêÈÉΩÂ§©Â∫úÂúãÈöõÊ©üÂ†¥", activity: "21:45 ÊäµÈÅîÊàêÈÉΩ", notes: "ËΩâÊ©üÁ≠âÂÄô", timestamp: 2 },
            { day: "12/12", location: "Êù±ÈÉ®ËúÄÈüªÁÅ´Èçã(Â§©Â∫úÊ©üÂ†¥ÊóóËâ¶Â∫ó)", mapUrl: "https://www.google.com/maps/search/?api=1&query=Êù±ÈÉ®ËúÄÈüªÁÅ´Èçã+Â§©Â∫úÊ©üÂ†¥", activity: "22:30 ÂÆµÂ§ú/Áî®È§ê", notes: "È£ûÊú∫Âà∞ËææÂêé ÊâæÂà∞T2ÁöÑ22Âè∑Èó®/T1ÁöÑ13Âè∑Èó®ÔºåÁ≠âÂè∏Êú∫Êù•Êé•Â∞±Ë°åÂï¶„ÄÇ", timestamp: 3 }, 
            // 12/13
            { day: "12/13", location: "ÊàêÈÉΩÂ§©Â∫úÂúãÈöõÊ©üÂ†¥ T1", mapUrl: "https://www.google.com/maps/search/?api=1&query=ÊàêÈÉΩÂ§©Â∫úÂúãÈöõÊ©üÂ†¥", activity: "01:45 ËΩâÊ©ü/Âá∫Áôº", notes: "Ëà™Áè≠ 3U3863", timestamp: 4 },
            { day: "12/13", location: "ÈñãÁæÖÂúãÈöõÊ©üÂ†¥ T2", mapUrl: "https://www.google.com/maps/search/?api=1&query=Cairo+International+Airport+Terminal+2", activity: "06:45 ÊäµÈÅîÈñãÁæÖ", notes: "ÂÖ•Â¢ÉËàáÊµ∑Èóú", timestamp: 5 },
            { day: "12/13", location: "Seyid Efendi Hotel", mapUrl: "https://www.google.com/maps/search/?api=1&query=Seyid+Efendi+Hotel+Cairo", activity: "08:00 ÂÖ•‰Ωè/ÊîæË°åÊùé", notes: "ÊàøË≤ª US$125.99", timestamp: 6 },
            { day: "12/13", location: "OLDISH", mapUrl: "https://maps.app.goo.gl/3Wr6svtHCe17wKug9", activity: "08:30 Êó©ÂçàÈ§ê", notes: "", timestamp: 7 },
            { day: "12/13", location: "ÈñãÁæÖËÄÅÂüé (ÈõÜÂêàÈªû: KFC Tahrir)", mapUrl: "https://www.google.com/maps/search/?api=1&query=KFC+Tahrir+Square", activity: "09:30 Free Walking Tour", notes: "ÈõÜÂêàÈªû: KFC Tahrir square Ââç", timestamp: 8 },
            { day: "12/13", location: "Zamalek City Walk", mapUrl: "https://www.google.com/maps/search/?api=1&query=Zamalek+Cairo", activity: "14:00 ÂüéÂ∏ÇÊº´Ê≠•", notes: "", timestamp: 9 },
            { day: "12/13", location: "Ibn Hamido Seafood / Saheb El Sa'ada", mapUrl: "https://www.google.com/maps/search/?api=1&query=Ibn+Hamido+Seafood+Cairo", activity: "18:00 ÊôöÈ§ê", notes: "", timestamp: 10 },
            // 12/14
            { day: "12/14", location: "Spire West Hotel", mapUrl: "https://www.google.com/maps/search/?api=1&query=Spire+West+Hotel+Cairo", activity: "10:00 ÂéªSpire West Hotel ÊúÉÂêà", notes: "", timestamp: 11 },
            { day: "12/14", location: "Spire West Hotel", mapUrl: "https://www.google.com/maps/search/?api=1&query=Spire+West+Hotel+Cairo", activity: "11:00 ‰ΩèÂÆø: Spire West Hotel", notes: "", timestamp: 12 },
            { day: "12/14", location: "ÂçàÈ§ê", mapUrl: "", activity: "12:00 ÂçàÈ§ê", notes: "", timestamp: 13 },
            { day: "12/14", location: "Â§ßÂüÉÂèäÂçöÁâ©È§®", mapUrl: "https://www.google.com/maps/search/?api=1&query=Grand+Egyptian+Museum", activity: "14:00 ÂçàÂæåÂèÉËßÄÂ§ßÂüÉÂèäÂçöÁâ©È§®", notes: "", timestamp: 14 },
            { day: "12/14", location: "MUZZI Â§ßË°ó", mapUrl: "https://www.google.com/maps/search/?api=1&query=Al+Muizz+Street+Cairo", activity: "16:30 Êº´Ê≠• MUZZI Â§ßË°óÊÑüÂèóÂüÉÂèäËÄÅÂüé", notes: "", timestamp: 15 },
            { day: "12/14", location: "ÂìàÂà©Âà©Â∏ÇÈõÜ", mapUrl: "https://www.google.com/maps/search/?api=1&query=Khan+el-Khalili", activity: "18:00 ÂìàÂà©Âà©Â∏ÇÈõÜ", notes: "", timestamp: 16 },
            // 12/15
            { day: "12/15", location: "ÂêâËñ©ÈáëÂ≠óÂ°îÁæ§ & ‰∫∫Èù¢ÁçÖË∫´ÂÉè", mapUrl: "https://www.google.com/maps/search/?api=1&query=Giza+Necropolis", activity: "07:30 Âá∫ÁôºÂèÉËßÄÈáëÂ≠óÂ°î", notes: "", timestamp: 17 },
            { day: "12/15", location: "ÂâçÂæÄÊ©üÂ†¥ (È£õÂæÄÁõßÂÖãÁ¥¢)", mapUrl: "https://www.google.com/maps/search/?api=1&query=Cairo+International+Airport", activity: "12:30 ÂâçÂæÄÊ©üÂ†¥", notes: "È†êË®àÈÄõ 3.5 Â∞èÊôÇÂæå Âá∫Áôº", timestamp: 18 },
            { day: "12/15", location: "ÁõßÂÖãÁ¥¢Ê©üÂ†¥/È¢®Â∏ÜËàπ", mapUrl: "https://www.google.com/maps/search/?api=1&query=Luxor+International+Airport", activity: "17:15 ÊäµÈÅîÁõßÂÖãÁ¥¢", notes: "Â¶ÇË∂ï‰∏äÊó•ËêΩÂèØÊê≠‰πòÈ¢®Â∏ÜËàπ„ÄÇ", timestamp: 19 },
            { day: "12/15", location: "Iberotal Luxor", mapUrl: "https://www.google.com/maps/search/?api=1&query=Iberotel+Luxor", activity: "19:00 ÊôöÈ§ê/‰ΩèÂÆø", notes: "", timestamp: 20 },
            { day: "12/15", location: "Ë∑ØÂÖãÁ¥¢Á•ûÊÆø", mapUrl: "https://www.google.com/maps/search/?api=1&query=Luxor+Temple", activity: "20:00 ÊôöÈ£ØÂæåËá™Áî±Ê¥ªÂãï", notes: "ÂèØËá™Áî±ÈÅ∏ÊìáÂâçÂæÄ„ÄÇÂîØ„áêÂ§úÈñìÊúâÊâìÁáàÂÖâÁßÄÔºåÂèØÂú®Â§ñÈù¢ÊãçÁÖß‰∏çÊúÉÊî∂ÈñÄÁ•®Ë≤ª„ÄÇ", timestamp: 21 },
            // 12/16
            { day: "12/16", location: "ÁÜ±Ê∞£ÁêÉ (Ë•øÂ≤∏/Â∏ùÁéãË∞∑/ÂìàÂ∏ÉÂüé)", mapUrl: "https://www.google.com/maps/search/?api=1&query=Valley+of+the+Kings", activity: "04:30 ÁÜ±Ê∞£ÁêÉ", notes: "‰πòÂùêÁÜ±Ê∞£ÁêÉ(Ëá™Ë≤ª 60$)ÔºåÁµêÊùüÂæåÂèÉËßÄÊõºÂÑÇÈõïÂÉè„ÄÅÂ∏ùÁéãË∞∑„ÄÅÂìàÂ∏ÉÂüé„ÄÇ", timestamp: 22 },
            { day: "12/16", location: "Âç°Á¥çÂÖãÁ•ûÂªü Temple of Karnak", mapUrl: "https://www.google.com/maps/search/?api=1&query=Karnak+Temple", activity: "12:00 ÂõûÊù±Â≤∏ÁπºÁ∫åÂèÉËßÄ", notes: "ÂèÉËßÄÂç°Á¥çÂÖãÁ•ûÂªü", timestamp: 23 },
            { day: "12/16", location: "ÈòøÊñØÊó∫ (Aswan)", mapUrl: "https://www.google.com/maps/search/?api=1&query=Aswan", activity: "14:00 ÂçàÈ§êÂæåÂâçÂæÄÈòøÊñØÊó∫", notes: "ËªäÁ®ãÁ¥Ñ 4~4.5 Â∞èÊôÇ", timestamp: 24 },
            { day: "12/16", location: "HAPI HOTEL", mapUrl: "https://www.google.com/maps/search/?api=1&query=Hapi+Hotel+Aswan", activity: "18:30 ‰ΩèÂÆø: HAPI HOTEL (Êö´ÂÆö)", notes: "", timestamp: 25 },
            // 12/17
            { day: "12/17", location: "ÈòøÂ∏ÉËæõË≤ùÁ•ûÊÆø", mapUrl: "https://www.google.com/maps/search/?api=1&query=Abu+Simbel+Temples", activity: "03:00 Âá∫ÁôºËá≥ÈòøÂ∏ÉËæõË≤ùÁ•ûÊÆø", notes: "ËªäÁ®ãÁ¥Ñ 4~4.5 Â∞èÊôÇ„ÄÇÂèÉËßÄÂÆåÁï¢ÂæåËøîÂõûÈòøÊñØÊó∫ÂêÉÂçàÈ§ê„ÄÇ", timestamp: 26 },
            { day: "12/17", location: "Ëè≤ËêäÁ•ûÂªü", mapUrl: "https://www.google.com/maps/search/?api=1&query=Philae+Temple", activity: "14:00 ÂèÉËßÄËè≤ËêäÁ•ûÂªü", notes: "Â∞ºÁæÖÊ≤≥‰∏äÁöÑÂüÉÂèäÁèçÁè†„ÄÇÂ¶Ç 12/15 Ê≤íÈÅá‰∏äÊó•ËêΩÔºåÂèØÊñº‰ªäÂ§©Ë£úÈ¢®Â∏ÜËàπ„ÄÇ", timestamp: 27 },
            { day: "12/17", location: "Sayed Effendi Boutique Hotel", mapUrl: "https://www.google.com/maps/search/?api=1&query=Seyid+Efendi+Hotel+Cairo", activity: "20:00 ÊôöÈ§êÂæåÈ£õËøîÈñãÁæÖ", notes: "‰ΩèÂÆø: Sayed Effendi Boutique Hotel", timestamp: 28 },
            // 12/18
            { day: "12/18", location: "Almaza Airport", mapUrl: "https://www.google.com/maps/search/?api=1&query=Almaza+Air+Base", activity: "07:00 Âá∫ÁôºËá≥ËªçÁî®Ê©üÂ†¥ Almaza Airport", notes: "Êê≠‰πò 9:00 am ËªçÊ©üÂâçÂæÄÈå´Áì¶(SIWA)„ÄÇËªçÊ©üË°åÊùéÈôêÈáç: 20ÂÖ¨Êñ§„ÄÇ", timestamp: 29 },
            { day: "12/18", location: "Siwa Oasis / Ê≤ôÂà©Â†°Â£ò", mapUrl: "https://www.google.com/maps/search/?api=1&query=Shali+Fortress+Siwa", activity: "10:30 ÊäµÈÅî Siwa Oasis / ÂèÉËßÄÊ≤ôÂà©Â†°Â£ò", notes: "Âà∫ÂÆ¢ÊïôÊ¢ùÊãçÊîùÂú∞„ÄÇÂÖ•‰Ωè Cafour House Siwa / Hot spring„ÄÇ", timestamp: 30 },
            { day: "12/18", location: "Cleopatra‚Äôs Spring", mapUrl: "https://www.google.com/maps/search/?api=1&query=Cleopatra+Spring+Siwa", activity: "14:00 ‰∏ãÂçàÂèÉËßÄ Cleopatra‚Äôs Spring", notes: "‰∏≠È§ê(ABDU)„ÄÅÈÄõÈÄõÂ∏ÇÈõÜ„ÄÇÂô¥Ê≥âË°åÁ®ãË´ãÊîúÂ∏∂Ê≥≥Ë°£„ÄÇ", timestamp: 31 },
            { day: "12/18", location: "Fetnas Â≥∂", mapUrl: "https://www.google.com/maps/search/?api=1&query=Fatnas+Island+Siwa", activity: "17:00 ÂâçÂæÄ Fetnas Â≥∂ÁúãÊó•ËêΩ", notes: "ÁµêÊùüÂæåÂú®Ê∞ëÂÆøÂêÉÊôöÈ§ê", timestamp: 32 },
            // 12/19
            { day: "12/19", location: "ÈòøËíôÁ•ûË´≠Á•ûÊÆø / Â§¢ÂπªÈπΩÊπñ", mapUrl: "https://www.google.com/maps/search/?api=1&query=Temple+of+the+Oracle+of+Amun", activity: "09:00 ÂèÉËßÄÁ•ûÊÆøËàáÂè§ËÄÅÂ¢ìÁ©¥„ÄÅÈπΩÊπñ", notes: "‰∏≠ÂçàËøîÂõûÂ∏ÇÂçÄÂêÉ‰∏≠È§ê(ABDU ÊàñÂÖ∂‰ªñ)„ÄÇÈπΩÊπñ‰∏ãÊ∞¥ÊãçÁÖßË£ùÂÇôÂèäÊØõÂ∑æÔºåË°ùÊ≤ôÂª∫Ë≠∞Á©øË§≤Ë£ù„ÄÇ", timestamp: 33 },
            { day: "12/19", location: "Èå´Áì¶Ê≤ôÊº†", mapUrl: "https://www.google.com/maps/search/?api=1&query=Siwa+Oasis", activity: "14:00 Ê≤ôÊº†Ë°ùÊ≤ô„ÄÅÊªëÊ≤ô„ÄÅÂ§ïÈôΩ", notes: "Ë∂äÈáéËªäË°ùÊ≤ô„ÄÅË°ùÊµ™ÊùøÊªëÊ≤ô„ÄÅÊ≤ô‰∏òÊ¨£Ë≥ûÂ§ïÈôΩ„ÄÇÊôö‰∏äÂú®Ê≤ôÊº†ÁØùÁÅ´ÂêÉÊôöÈ§ê(ÁÉ§Èõû)„ÄÇ", timestamp: 34 },
            { day: "12/19", location: "Â§úÂ∑¥ (ÂæÄÈñãÁæÖ)", mapUrl: "", activity: "22:00 Êê≠Â§úÂ∑¥ÂõûÈñãÁæÖ", notes: "ÁµêÊùüÂæåËøîÂõûÊ∞ëÂÆøÊ¥óÊæ°‰∏¶ÂâçÂæÄÊê≠Â§úÂ∑¥„ÄÇÊôö‰∏äÂçÅÈªûÈñãÂà∞Êó©‰∏äÂçÅÈªûÂà∞ÈñãÁæÖ„ÄÇ", timestamp: 35 },
            // 12/20
            { day: "12/20", location: "ÈñãÁæÖ", mapUrl: "https://www.google.com/maps/search/?api=1&query=Cairo", activity: "09:00 ÊäµÈÅîÈñãÁæÖÊ©üÂ†¥", notes: "", timestamp: 36 },
            { day: "12/20", location: "Ê≤ôÂßÜÊ≤ô‰ºäËµ´ (Sharm El Sheikh)", mapUrl: "https://www.google.com/maps/search/?api=1&query=Sharm+El-Sheikh+International+Airport", activity: "13:45 ÊäµÈÅîÊ≤ôÂßÜÊ≤ô‰ºäËµ´", notes: "Êê≠‰πò‰∏≠ÂçàÁöÑÁè≠Ê©ü„ÄÇÂÖ•‰Ωè Sunrise Diamond Beach Resort (‰∏âÈ§êÈ£≤ÊñôÂÖ®ÂåÖ)„ÄÇ", timestamp: 37 },
            { day: "12/20", location: "Farsha Mountain Lounge", mapUrl: "https://www.google.com/maps/search/?api=1&query=Farsha+Cafe", activity: "16:00 Farsha Êá∏Â¥ñÈÖíÂêßÂêÉÈ£Ø", notes: "Âì°ÊóÖË¥äÂä©È§ê„ÄÇÊôö‰∏äÂâçÂæÄÁï∂Âú∞ÂÆ∂Ê®ÇÁ¶èÊàñÂ∏ÇÈõÜÊé°Ë≤∑ÈÄõË°ó„ÄÇ", timestamp: 38 },
            // 12/21
            { day: "12/21", location: "Ras Mohammed Reserve", mapUrl: "https://www.google.com/maps/search/?api=1&query=Ras+Mohammed+National+Park", activity: "07:50 Ê∑±ÊΩõ pick up", notes: "deep diving swimming,lunch,drinks,Ras Mohammed Reserve", timestamp: 39 },
            { day: "12/21", location: "Ras Mohammed Reserve", mapUrl: "https://www.google.com/maps/search/?api=1&query=Ras+Mohammed+National+Park", activity: "16:30 ËøîÂõû", notes: "", timestamp: 40 },
            { day: "12/21", location: "Ë•øÂ•àÂ±± (Mt. Sinai)", mapUrl: "https://www.google.com/maps/search/?api=1&query=Mount+Sinai", activity: "20:00 Êôö‰∏äËá™Ë≤ªË°åÁ®ã: Ë•øÂ•àÂ±±ÁôªÂ±±", notes: "20:00 Âá∫ÁôºÔºå02:30 ÊäµÈÅîÁôªÂ±±Âè£„ÄÇÁôªÂ±± 3 Â∞èÊôÇÔºå05:00 ÁúãÊó•Âá∫„ÄÇ‰∏ãÂ±±ÂèÉËßÄËÅñÊØç‰øÆÈÅìÈô¢ÔºåÈ†êË®àÈöîÊó•‰∏ãÂçà 14:00 ÊäµÈÅîÊ≤ôÂßÜ„ÄÇ", timestamp: 41 },
            // 12/22
            { day: "12/22", location: "Sunrise Diamond Beach Resort", mapUrl: "https://www.google.com/maps/search/?api=1&query=Sunrise+Diamond+Beach+Resort", activity: "09:00 Êó©‰∏ä‰∫´Áî®È£ØÂ∫óË®≠ÊñΩ", notes: "", timestamp: 42 },
            { day: "12/22", location: "ÂâçÂæÄÊ©üÂ†¥", mapUrl: "https://www.google.com/maps/search/?api=1&query=Sharm+El-Sheikh+International+Airport", activity: "18:30 È£õÂæÄÈñãÁæÖ", notes: "ÂâçÂæÄÊ≤ôÂßÜÊ≤ô‰ºäËµ´Ê©üÂ†¥", timestamp: 43 },
            { day: "12/22", location: "Logistics-5-stars", mapUrl: "https://www.google.com/maps/search/?api=1&query=Logistics-5-stars+Cairo", activity: "21:00 ‰ΩèÂÆø: Logistics-5-stars", notes: "", timestamp: 44 },
            // 12/23
            { day: "12/23", location: "ÈñãÁæÖÂúãÈöõÊ©üÂ†¥ T2", mapUrl: "https://www.google.com/maps/search/?api=1&query=Cairo+International+Airport+Terminal+2", activity: "13:55 ÈñãÁæÖÈñãÁæÖÂúãÈöõÊ©üÂ†¥ T2 EY714", notes: "", timestamp: 45 },
            { day: "12/23", location: "ÈòøÂ∏ÉÊâéÊØîÂúãÈöõÊ©üÂ†¥ A", mapUrl: "https://www.google.com/maps/search/?api=1&query=Zayed+International+Airport+Terminal+A", activity: "19:15 ÈòøÂ∏ÉÈÅîÊØîÈòøÂ∏ÉÊâéÊØîÂúãÈöõÊ©üÂ†¥ A", notes: "", timestamp: 46 },
            { day: "12/23", location: "ÈòøÂ∏ÉÊâéÊØîÂúãÈöõÊ©üÂ†¥ A", mapUrl: "https://www.google.com/maps/search/?api=1&query=Zayed+International+Airport+Terminal+A", activity: "21:25 ÈòøÂ∏ÉÈÅîÊØîÈòøÂ∏ÉÊâéÊØîÂúãÈöõÊ©üÂ†¥ A EY898", notes: "", timestamp: 47 },
            // 12/24
            { day: "12/24", location: "Âè∞ÁÅ£Ê°ÉÂúíÂúãÈöõÊ©üÂ†¥ T2", mapUrl: "https://www.google.com/maps/search/?api=1&query=Taiwan+Taoyuan+International+Airport+Terminal+2", activity: "09:00 Âè∞ÁÅ£Ê°ÉÂúíÂè∞ÁÅ£Ê°ÉÂúíÂúãÈöõÊ©üÂ†¥ T2", notes: "", timestamp: 48 },
        ];

        const initialPacking = [
            { group: "ÈáçË¶ÅÁâ©ÂìÅ", text: "Ë≠∑ÁÖßÂèä‰ø°Áî®Âç°", checked: false },
            { group: "ÈáçË¶ÅÁâ©ÂìÅ", text: "Âè∞ËÉûË≠â", checked: false }, 
            { group: "ÈáçË¶ÅÁâ©ÂìÅ", text: "ÁæéÈáë (Âè¶ÂÇô‰πæÊ∑®ÁÑ°Êë∫Áóï25ÁæéÈáëÁî≥Ë´ãÁ∞ΩË≠â)", checked: false },
            { group: "ÈáçË¶ÅÁâ©ÂìÅ", text: "2ÂêãÁôΩÂ∫ïÁÖßÁâá*2Âºµ", checked: false },
            { group: "ÈáçË¶ÅÁâ©ÂìÅ", text: "Ê≠êË¶èÊèíÈ†≠ËΩâÊèõÂô®„ÄÅÈõªÂ£ìËΩâÊèõÂô®", checked: false },
            { group: "ÈõªÂ≠êÁî®ÂìÅ", text: "ÊâãÊ©üÂÖÖÈõªÁ∑ö", checked: false },
            { group: "ÈõªÂ≠êÁî®ÂìÅ", text: "ÂèñÂç°Èáù", checked: false },
            { group: "ÈõªÂ≠êÁî®ÂìÅ", text: "Ë°åÂãïÈõªÊ∫ê„ÄÅËÄ≥Ê©ü", checked: false },
            { group: "ÈõªÂ≠êÁî®ÂìÅ", text: "Èö®Ë∫´Â∞èÈ¢®Êâá (ÈùûÂÖÖÈõªÂºèË´ãË®òÂæóÊîúÂ∏∂ÈõªÊ±†)", checked: false },
            { group: "Ëó•ÂìÅ", text: "ÈÅéÊïèËó•„ÄÅÊöàËªä/ËàπËó•„ÄÅËñÑËç∑Ê≤π", checked: false },
            { group: "Ëó•ÂìÅ", text: "ËÉÉËó•„ÄÅÊ≠¢ÁÄâËó•„ÄÅÊÑüÂÜíËó•", checked: false },
            { group: "Ëó•ÂìÅ", text: "ÂÄã‰∫∫Â∏∏Áî®Ëó•/‰øùÂÅ•È£üÂìÅ", checked: false },
            { group: "Ëó•ÂìÅ", text: "ÁúºËó•Ê∞¥", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "UÂûãÈ†∏Êûï (ËªäÁ®ãÈï∑ÊúÉÈúÄË¶Å)", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "ÁâôËÜè„ÄÅÁâôÂà∑„ÄÅÊ¢≥Â≠ê (È£ØÂ∫ó‰∏çÊèê‰æõ)", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "‰øùÈ§äÂìÅ„ÄÅÈù¢ËÜú„ÄÅÊ¥óË≠∑È´ÆÂèäÂç∏Â¶ùÁî®ÂìÅ", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "Â•ΩËµ∞ÁöÑÈûã„ÄÅÊ∂ºÈûã„ÄÅÊãñÈûã (È£ØÂ∫óÈÄöÂ∏∏‰∏çÊèê‰æõ)", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "Ê≥≥Ë°£„ÄÅÈò≤Ê∞¥Ë¢ã„ÄÅÊµÆÊΩõÁî®ÂÖ∑ (‰æùÂÄã‰∫∫ÈúÄÊ±Ç)", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "ÂÄã‰∫∫Ë°£Áâ©(Â•ó*Â§©Êï∏)„ÄÅÂ§ñÂ•ó„ÄÅÂúçÂ∑æ„ÄÅÊâãÂ•ó", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "ÊøïÁ¥ôÂ∑æ„ÄÅÈù¢Á¥ô", checked: false },
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "ÂêâÈöÜÂù°Á∂≤Âç°E-SIM", checked: false }, 
            { group: "ÂÄã‰∫∫Áâ©ÂìÅ", text: "Èò≤Êõ¨Ë°£Áâ©„ÄÅÂ¢®Èè°„ÄÅÈÅÆÈôΩÂ∏Ω/ÂÇò„ÄÅÂè£ÁΩ©", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "ÂÖçÊ¥óÂÖßË°£Ë§≤", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "ÊããÊ£ÑÂºèÊûïÈ†≠Â•ó„ÄÅÊØõÂ∑æ", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "ÊããÊ£ÑÂºèÈ¶¨Ê°∂ÂùêÂ¢ä", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "Ê¥óËáâÂ∑æ", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "ÂêπÈ¢®Ê©ü", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "ÁÜ±Ê∞¥Áì∂„ÄÅÈõªÂ≠êÈçã (ÂúãÈöõÈõªÂ£ì)", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "Á≥ßÈ£ü„ÄÅÊ≥°È∫µ(Á¢ó)-ÈÅøÂÖçÂåÖË£ù‰∏äÊúâ„ÄåË±¨ËÇâ„ÄçÂúñÊ°à", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "ÂÖçÊ¥óÈ§êÂÖ∑", checked: false },
            { group: "È°çÂ§ñÂª∫Ë≠∞", text: "ÊâãÊ©üÊéõÁπ©", checked: false }
        ];

        // ==============================
        // 2. React Component (‰∏ªÁ®ãÂºè)
        // ==============================

        const App = () => {
            const [view, setView] = useState('itinerary');
            const [packingList, setPackingList] = useState([]);
            const [expandedDays, setExpandedDays] = useState({});
            
            // ÂàùÂßãÂåñÔºöÂæû LocalStorage ËÆÄÂèñ (ÂÆåÂÖ®Èõ¢Á∑öÁâà)
            useEffect(() => {
                const savedList = localStorage.getItem('egypt_packing_offline_v12');
                if (savedList) {
                    setPackingList(JSON.parse(savedList));
                } else {
                    // Áî¢ÁîüÂÖ®Êñ∞ÁöÑÁâ©‰ª∂Èô£Âàó
                    setPackingList(initialPacking.map(item => ({...item})));
                }
            }, []);

            const togglePackingItem = (index) => {
                setPackingList(prevList => {
                    const newList = prevList.map((item, i) => 
                        i === index ? { ...item, checked: !item.checked } : item
                    );
                    localStorage.setItem('egypt_packing_offline_v12', JSON.stringify(newList));
                    return newList;
                });
            };
            
            const resetData = () => {
                if(!confirm("Á¢∫ÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâÂãæÈÅ∏ÁãÄÊÖãÂóéÔºü")) return;
                // ÂæûÂéüÂßãË≥áÊñôÁî¢Áîü‰∏Ä‰ªΩÂÖ®Êñ∞ÁöÑÊ∏ÖÂñÆ
                const freshList = initialPacking.map(item => ({...item, checked: false}));
                setPackingList(freshList);
                localStorage.setItem('egypt_packing_offline_v12', JSON.stringify(freshList));
                alert("Â∑≤ÈáçÁΩÆÔºÅ");
            };

            const toggleDay = (day) => {
                setExpandedDays(prev => ({
                    ...prev,
                    [day]: !prev[day]
                }));
            };

            // Helper functions for render
            const getSummaryText = (items) => {
                 const summaryItems = items.filter(item => {
                    const loc = item.location.toLowerCase();
                    const act = item.activity.toLowerCase();
                    
                    // ÊéíÈô§‰ΩèÂÆø
                    if (loc.includes('hotel') || loc.includes('resort') || loc.includes('‰ΩèÂÆø') || loc.includes('ÂÖ•‰Ωè')) {
                         if (items.length > 2) return false;
                    }
                    // ÊéíÈô§Á¥îÁî®È§ê
                    if ((loc === 'ÂçàÈ§ê' || loc === 'ÊôöÈ§ê' || act === 'ÂçàÈ§ê' || act === 'ÊôöÈ§ê')) {
                         if (!loc.includes('ÂâçÂæÄ') && !act.includes('ÂâçÂæÄ')) return false;
                    }
                    // ÊéíÈô§Ê©üÂ†¥ÁßªÂãï (12/15 ÈúÄÊ±Ç)
                    if (loc.includes('ÂâçÂæÄÊ©üÂ†¥') || act.includes('ÂâçÂæÄÊ©üÂ†¥') || act.includes('È£õÂæÄ') || act.includes('Êê≠‰πò')) return false;

                    return true;
                });

                return summaryItems.map(i => {
                    let name = i.location;
                    for (const [key, emoji] of Object.entries(keywordEmojis)) {
                        if (name.includes(key) || i.activity.includes(key)) {
                            if (!name.includes(emoji)) name = emoji + ' ' + name;
                            break; 
                        }
                    }
                    return name.replace(/\(.*\)/, '').replace(/Ôºà.*Ôºâ/, '').trim(); 
                }).join(' ‚ûî ');
            };

            window.switchView = setView;

            // Group Itinerary
            const groupedItinerary = initialItineraryData.reduce((acc, item) => {
                (acc[item.day] = acc[item.day] || []).push(item);
                return acc;
            }, {});

            // Group Packing
            const groupedPacking = packingList.reduce((acc, item) => {
                 (acc[item.group] = acc[item.group] || []).push(item);
                 return acc;
            }, {});

            return (
                <div className="pb-24">
                     {/* Sticky Header */}
                     <div className="sticky top-0 z-50 bg-[#fff7ed]">
                        <div className="bg-white/90 backdrop-blur-md shadow-sm p-4 mb-4 rounded-b-2xl border-b border-amber-100">
                            <h1 className="text-2xl font-bold text-center text-amber-800 tracking-tight mb-1">üê™ ÂüÉÂèä Â∞ºÁæÖÊ≤≥Â•≥Âúò</h1>
                            <p className="text-center text-amber-600/70 text-xs mb-3">12/12 - 12/24</p>
                            
                            {/* Navigation Tabs */}
                            <div className="flex justify-center space-x-2 no-scrollbar overflow-x-auto">
                                <button 
                                    onClick={() => setView('itinerary')} 
                                    className={`tab-button ${view === 'itinerary' ? 'tab-active' : 'tab-inactive'}`}>
                                    üìÖ Ë°åÁ®ãÁ∏ΩË¶Ω
                                </button>
                                <button 
                                    onClick={() => setView('packing')} 
                                    className={`tab-button ${view === 'packing' ? 'tab-active' : 'tab-inactive'}`}>
                                    üéí Ë°åÊùéÊ∏ÖÂñÆ
                                </button>
                                <button 
                                    onClick={() => setView('arabic')} 
                                    className={`tab-button ${view === 'arabic' ? 'tab-active' : 'tab-inactive'}`}>
                                    üó£Ô∏è Á©∫ËÄ≥ÈòøÊãâ‰ºØË™û
                                </button>
                                <button 
                                    onClick={() => setView('notes')} 
                                    className={`tab-button ${view === 'notes' ? 'tab-active' : 'tab-inactive'}`}>
                                    ‚ö†Ô∏è Ê≥®ÊÑè‰∫ãÈ†Ö
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-2xl mx-auto px-4">
                        {/* ITINERARY VIEW */}
                        {view === 'itinerary' && (
                             <div className="space-y-4">
                                {Object.entries(groupedItinerary).map(([day, items]) => {
                                    const summaryText = getSummaryText(items);
                                    const isExpanded = expandedDays[day];
                                    
                                    // Âè™ÊúâÁ¥îÊï∏Â≠óÊó•Êúü
                                    let dateNum = day.split('/')[1];
                                    if(!dateNum) dateNum = "";

                                    return (
                                        <div key={day} className="mb-4 bg-white rounded-xl shadow-sm border-l-4 border-amber-400 overflow-hidden itinerary-card">
                                            <div className="p-4 cursor-pointer bg-white hover:bg-amber-50 transition-colors flex flex-col"
                                                 onClick={() => toggleDay(day)}>
                                                <div className="flex justify-between items-center mb-2">
                                                    <div className="flex items-center">
                                                        {/* Custom Calendar Icon */}
                                                        <div className="bg-white border-2 border-amber-400 rounded-lg w-10 h-10 flex flex-col items-center justify-center shadow-sm mr-3 flex-shrink-0">
                                                            <span className="text-[0.5rem] font-bold text-white bg-amber-400 w-full text-center leading-tight rounded-t-sm">12Êúà</span>
                                                            <span className="text-lg font-extrabold text-amber-800 leading-none pt-0.5">{dateNum}</span>
                                                        </div>
                                                    </div>
                                                    <span className={`text-xl font-bold w-8 h-8 flex items-center justify-center rounded-full transition-colors ${isExpanded ? 'text-white bg-amber-400' : 'text-amber-400 bg-amber-50'}`}>
                                                        {isExpanded ? '‚Äì' : '+'}
                                                    </span>
                                                </div>
                                                <span className="text-xs font-medium text-gray-500 leading-relaxed block w-full break-words pl-1 border-l-2 border-gray-100 ml-1">
                                                    {summaryText}
                                                </span>
                                            </div>
                                            
                                            {isExpanded && (
                                                <div className="px-4 pb-4 space-y-3 border-t border-gray-100 pt-3 bg-gray-50/50 item-details visible-details">
                                                    {items.map((item, idx) => (
                                                        <div key={idx} className="flex flex-col bg-white p-3 rounded-lg shadow-sm border border-gray-100">
                                                            <div className="flex justify-between items-start">
                                                                <div className="flex-1">
                                                                    <p className="text-lg font-bold text-gray-800 mb-1">{item.activity}</p>
                                                                    {item.mapUrl ? (
                                                                        <a href={item.mapUrl} target="_blank" className="text-sm text-amber-600 hover:text-amber-800 hover:underline flex items-center gap-1 font-medium">
                                                                            üìç {item.location}
                                                                        </a>
                                                                    ) : (
                                                                        <span className="text-sm text-gray-500 flex items-center gap-1">üìç {item.location}</span>
                                                                    )}
                                                                </div>
                                                            </div>
                                                            {item.notes && <div className="mt-2 text-xs text-gray-500 bg-gray-50 p-2 rounded border border-gray-100">{item.notes}</div>}
                                                        </div>
                                                    ))}
                                                </div>
                                            )}
                                        </div>
                                    )
                                })}
                             </div>
                        )}

                        {/* PACKING LIST VIEW */}
                        {view === 'packing' && (
                            <div className="space-y-4 animate-fade-in">
                                {Object.entries(groupedPacking).map(([group, items]) => (
                                    <div key={group} className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                                        <h3 className="bg-amber-50 px-4 py-2 text-sm font-bold text-amber-800 border-b border-amber-100">
                                            üéí {group}
                                        </h3>
                                        <div className="divide-y divide-gray-50">
                                            {items.map((item) => {
                                                // Find correct index in main list using direct comparison
                                                const originalIndex = packingList.findIndex(p => p.group === item.group && p.text === item.text);
                                                return (
                                                    <div key={item.text + originalIndex} 
                                                         onClick={() => togglePackingItem(originalIndex)}
                                                         className="flex items-center p-3 hover:bg-gray-50 cursor-pointer transition-colors">
                                                        <div className={`w-5 h-5 rounded border flex items-center justify-center mr-3 flex-shrink-0 ${item.checked ? 'bg-amber-500 border-amber-500 text-white' : 'border-gray-300'}`}>
                                                            {item.checked && '‚úì'}
                                                        </div>
                                                        <span className={`text-sm ${item.checked ? 'text-gray-400 line-through' : 'text-gray-700'}`}>
                                                            {item.text}
                                                        </span>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>
                                ))}
                                <div className="text-center pt-4 pb-8">
                                    <button onClick={resetData} className="text-sm text-gray-500 underline hover:text-amber-600">ÈáçÁΩÆÊâÄÊúâÂãæÈÅ∏</button>
                                </div>
                            </div>
                        )}

                        {/* ARABIC VIEW */}
                        {view === 'arabic' && (
                             <div className="space-y-6 animate-fade-in">
                                 <div>
                                    <h3 className="text-lg font-bold text-amber-800 mb-3 flex items-center"><span className="bg-amber-100 p-1 rounded mr-2">üî¢</span> Êï∏Â≠óÂ∞çÁÖß</h3>
                                    <div className="grid grid-cols-3 sm:grid-cols-4 gap-3">
                                        {arabicNumbers.map((n, i) => (
                                            <div key={i} className="bg-white p-2 rounded-lg shadow-sm border border-gray-100 text-center flex flex-col items-center justify-center h-20 phrase-card">
                                                <div className="text-lg font-bold text-gray-400 leading-none">{n.num}</div>
                                                <div className="text-2xl font-bold text-amber-600 font-serif leading-none my-1">{n.arabNum}</div>
                                                <div className="text-xs text-gray-500 bg-gray-50 px-2 rounded-full">{n.phonetic}</div>
                                            </div>
                                        ))}
                                    </div>
                                 </div>
                                 <hr className="border-amber-200/50"/>
                                 <div>
                                    <h3 className="text-lg font-bold text-amber-800 mb-3 flex items-center"><span className="bg-amber-100 p-1 rounded mr-2">üá™üá¨</span> ÁîüÊ¥ªÁî®Ë™û</h3>
                                    <div className="grid grid-cols-1 gap-3">
                                         {arabicPhrases.map((p, i) => (
                                            <div key={i} className="bg-white p-3 rounded-lg shadow-sm border-l-4 border-amber-400 flex justify-between items-center phrase-card">
                                                <div>
                                                    <div className="text-xs text-amber-600 font-bold mb-0.5">{p.category}</div>
                                                    <div className="text-base font-bold text-gray-800">{p.phonetic}</div>
                                                    <div className="text-xs text-gray-400">{p.original}</div>
                                                </div>
                                                <div className="text-sm font-bold text-amber-700 bg-amber-50 px-2 py-1 rounded">
                                                    {p.meaning}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                 </div>
                             </div>
                        )}
                        
                        {/* NOTES VIEW */}
                        {view === 'notes' && (
                             <div className="space-y-4 animate-fade-in">
                                 {importantNotes.map((note, i) => (
                                     <div key={i} className="bg-white p-4 rounded-xl shadow-sm border-l-4 border-red-400">
                                         <h3 className="font-bold text-lg text-red-800 mb-1">{note.title}</h3>
                                         <p className="text-sm text-gray-600 leading-relaxed">{note.content}</p>
                                     </div>
                                 ))}
                                 <div className="text-center text-xs text-gray-400 mt-4">
                                     ÂÆâÂÖ®Á¨¨‰∏ÄÔºåÈñãÂøÉÂá∫ÈÅäÔºÅ üê´
                                 </div>
                             </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>